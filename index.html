<!--
 * This file is licensed under Attribution-NonCommercial-NoDerivatives 4.0 International
 * Made by CrazyH2
 * https://github.com/crazyh2
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/favicon.png">
    <title>Google</title>

    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: end;
        }

        img {
            object-fit: contain;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body oncontextmenu="return false;">
    <img src="page.png" draggable="false">
    <script>
        /*
            ?alert=0    Disables alerts
            ?thread=?   Dupes tab by amount you specify
            ?black=1    Shows black rather than google image
        */
        
        const randomPhotoUrl = "https://cataas.com/cat";

        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split('=');
                if (decodeURIComponent(pair[0]) == variable) {
                    return decodeURIComponent(pair[1]);
                }
            }
            console.log('Query variable %s not found', variable);
        }

        if ( getQueryVariable("alert") !== "0" ) {
            setTimeout(
                () => alert("Make sure that opening popups is set to always allowed\nJust minimize this tab or switch to a different tab. :D\nMade By CrazyH2 (github.com/crazyh2)"),
                500
            );
        };
        
        if ( getQueryVariable("thread") == "1" ) {
            setTimeout(
                () => {
                    var amount = prompt("How many threads?\nMade By CrazyH2 (github.com/crazyh2)");
                    for (let i = 0; i < (parseInt(amount) - 1); i++) {
                        window.open(`${ location.origin }${ location.pathname }?alert=0`, '_blank');
                    };
                },
                500
            );
        };
        
        if ( getQueryVariable("black") == "1" ) {
            setTimeout(() => {
                document.querySelector("body > img").style.display = "none";
                document.querySelector("body").style.background = "#000";
            }, 500 );
        };

        function getRandomArbitrary(min, max) {
            return Math.random() * (max - min) + min;
        }

        function spawnRandomWindow() {
            var randomWidth = getRandomArbitrary(250, 700);
            var randomHeight = getRandomArbitrary(250, 700);

            var randomTop = getRandomArbitrary(0, 1000);
            var randomLeft = getRandomArbitrary(0, 1000);

            window.open(
                randomPhotoUrl,
                "Windows Copilot Advert - " + getRandomArbitrary(100000, 999999),
                `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=${randomWidth},height=${randomHeight},left=${randomLeft},top=${randomTop}`
            );
        };

        setInterval(spawnRandomWindow, 650);
    </script>
</body>
</html>
